// Define signals
define Signal toggle: On = 1, Off = 0, on = "hej";
define Signal celsius:  1..60;
define Signal percentage:  0.0..100.0;

// Define device types
define Device Bulb input: toggle;
define Device Window input: open;
// Define sensors
define Device MovementSensor output: toggle & input: celsius;
define Device Thermometer output: celsius;

// Variable definitions of every device in the house
Bulb frontDoorLight = "129.6.18.1:12565";
Window bedRoomWindow = "129.67.198.65:12565";

MovementSensor frontDoorSensor = "Google.com";

Thermometer mainThermometer = "129.67.198.65:12565";

string a = "Hej";

init(){
    // Optional code for initialization
    // Automatically run when the program is run for the first time
}

// Events
when frontDoorSensor toggle: on {
    if(now > 17:00 && now < 21:00){
        set frontDoorLight toggle: on;
    }
    wait 30 seconds;

    while(get frontDoorSensor toggle != "on"){
        set frontDoorLight toggle: off;
    }

}

when mainThermometer celsius: exceeds 22{
    setBedroomWindowsOpen(50); // Calling function defined further down
}

// Function
string setBedroomWindowsOpen(int percentage){
    set bedRoomWindow open: percentage;

    while(true){
        return;
    }

    while(false){
        break;
    }

    return "hej";
}

// Function
string setBedroomWindowsOpen(int percentage, float f, string s){
    set bedRoomWindow open: percentage;

    return;
}

// Repeating event
every 2 hours{
    int a = a;
    a = b;
    float a = 1.2;
    b = 1.2;
    string c = "Magnus";

    if(a == 3){
        mads = faggot;
    } else {
        magnus = faggot;
    }
}
